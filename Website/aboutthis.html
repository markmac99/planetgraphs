<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Planetary Observability Data.">
    <meta name="author" content="Mark McIntyre">
	<meta name="keywords" content="******"/>

    <title>Planetary Observability Calculations</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="css/plugins/metisMenu/metisMenu.min.css" rel="stylesheet">

    <!-- Timeline CSS -->
    <link href="css/plugins/timeline.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/dragontail.css" rel="stylesheet">

    <!-- Morris Charts CSS -->
    <link href="css/plugins/morris.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    <div id="wrapper">
        <!-- Navigation -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-on5ly">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://www.marymcintyreastronomy.co.uk/"><img src="images/maryslogo.png" alt="Mary McIntyre, Logo"/></a>
            </div>
            <!-- /.navbar-header -->

            <ul class="nav navbar-top-links navbar-right">
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        <i class="fa fa-envelope fa-fw"></i>  <i class="fa fa-caret-down"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-messages">
                        <li>
                            <a href="#">
                                <div>
                                    <strong>Email me </strong>
                                    <span class="pull-right text-muted">
                                        <em>mark.jm.mcintyre@cesmail.net</em>
                                    </span>
                                </div>
                                <div>Email me with questions etc</div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a class="text-center" href="#">
                                <strong><a href="mailto:mark.jm.mcintyre@cesmail.net?Subject=Communication from Web Site" target="_top">Send Mail</a></strong>
                                <i class="fa fa-angle-right"></i>
                            </a>
                        </li>
                    </ul>
                    <!-- /.dropdown-messages -->
                </li>
                <!-- /.dropdown -->
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        <i class="fa fa-user fa-fw"></i>  <i class="fa fa-caret-down"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-user">
                        <li><a href="#"><i class="fa fa-upload fa-fw"></i> Link *****</a>
                        </li>
                        <li class="divider"></li>
						<li><a href="aboutthis.html"><i class="fa fa-user fa-fw"></i> About</a>
                        </li>

                    </ul>
                    <!-- /.dropdown-user -->
                </li>
                <!-- /.dropdown -->
            </ul>
            <!-- /.navbar-top-links -->

            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav" id="side-menu">
                        <li>
                            <a href="#"><i class="fa fa-bar-chart-o fa-fw"></i> Charts<span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level">
                                <li>
                                    <a href="MercuryGraphs.html">Mercury</a>
                                </li>
                                <li>
                                    <a href="VenusGraphs.html">Venus</a>
                                </li>
                                <li>
                                    <a href="MarsGraphs.html">Mars</a>
                                </li>
                                <li>
                                    <a href="JupiterGraphs.html">Jupiter</a>
                                </li>
                                <li>
                                    <a href="SaturnGraphs.html">Saturn</a>
                                </li>
                                <li>
                                    <a href="UranusGraphs.html">Uranus</a>
                                </li>
                                <li>
                                    <a href="NeptuneGraphs.html">Neptune</a>
                                </li>
                            </ul>
                            <!-- /.nav-second-level -->
                        </li>
                    </ul>
                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->
        </nav>
        <!-- Page Content -->
        <div id="page-wrapper">
            <div class="container-fluid">
            <div class="row">
                <div class="col-lg-8">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            About These Calculations
                        </div>
                        <div class="panel-body">
                            <p>
                            <b>Basis of Calculations</b><br>
                            These pages calculate approximate observability of the planets for an observer in
                            the southern UK. Calculations are based on Paul Schulyter's excellent web tutorial of how to
                            calculate the positions of the planets
                            (<a href=http://www.stjarnhimlen.se/comp/ppcomp.html>available here</a>). Corrections for
                            atmospheric refraction are after Saemundsson et al, for example as shown <a href=http://www.jgiesen.de/refract/index.html>here</a>.

                            <br><br>
                            <b>What the Graphs Show</b>
                            <li> <b>Best Visual Altitude</b> - the highest altitude (culmination) of the planet on that particular day, if
                            its observable at all (zero means unobservable).
                            Note that if the planet culminates in daylight, then the higher of dawn
                            or dusk altitude is used. Hover your mouse over the graph to see the actual best time. See note below for what
                            'observable' means exactly.
                            <br>
                            <font color="red">NB: When observing at dawn, please take care that sunrise does not happen in the field of
                            view of your scope or camera.</font>


                            <li> <b>Size and Magnitude</b> - The approximate size and magnitude on the date shown.
							The brightness of inner planets takes into account their phase as well as distances.
							The brightness of Saturn's rings and their tilt is not modelled yet.

                            <li> <b>Download raw data</b> - the raw data that went into the graphs is available to download.
                            Although I publish the data to many decimals, its really only accurate to two or three.
                            <br><br>
                            <b>Observability, and Visual vs Imaging</b><br>
							To be 'observable', I have assumed the sun must be below the horizon and the planet at least 5&deg; above.
							A value of zero means the planet is unobservable, either too close to the Sun or
							not above the horizon during darkness. A non-zero value does not mean it will be easy to see !
							Generally a planet will be unobservable if less
							than 10&deg; from the Sun, and dangerous if less than 20&deg; away. Thats why I made
							sure the Sun was below the horizon.

                            <br><br>
                            The graphs show when the planet will be <em>visible</em>, for astro-imaging
							you really want the sun more than 15&deg; below the horizon and the planet more than 25&deg; above. I have
							also modelled this and will add it as a feature when I have time but for now you can estimate it by
                            ignoring all data at dawn, dusk or where altitude is less than 25&deg;.
                            <br><br>
                            <b>Adjusting for Other UK Locations</b>
							<li> Increase(decrease) best altitude by approx 1 degree for every degree south (north) you live.

							<li>Adjust the time later for more western locations and earlier for more eastern locations.
							Its not easy to say how much I'm afraid, but around 15 mins per degree should be about right.

                            <br>
							<br>
							<b>How I Calculated the Data</b><br>
							I modelled the orbits in Excel VBA for a fixed location (mine!) and exported the
							required numbers into javascript suitable for
							the graphing tool.
							<br><br>
                            <b>Accuracy</b><br>
							This data will not be very useful outside mainland UK as it was calculated for a central UK location. <br>
                            Additionally please do not expect sub-degree accuracy! There are many detailed perturbations which affect planetary positions, notably
                            resonances between planets, the Sun and the Moon, which cause small deviations. I've modelled the biggest of these for Jupiter
                            Saturn, Uranus and Neptune (and the Moon) as well as adjusting from geo to topcentric coordinates,
                            but I'm not modelling things like wobbles of the Earth's
                            axis, Earth's movement around the Earth-Moon barycentre, resonances between the inner planets and so on. I've
                            spot-checked the numbers for all the planets at random dates out to 2026 and am generally within a degree or so
                            altitude and 5-10 minutes time, but there are some larger errors.
							<br><br>
							<b>Coming Soon</b><br>
							I hope to add the following shortly:
							<li> move the calculations into AWS Lambda and make them dynamic
							<li> create dynamic webpages to allow people to calculate data for their own location.
							<li> add Pluto and a few minor planets or asteroids.
							<li> model the effect of the Moon on observability.
                            </p>
                        </div>
                        <div class="panel-footer">
                            Good luck and may the weather be with you.
                        </div>
                    </div>
                </div>
                <!-- /.col-lg-4 -->
            </div>
                <!-- /.row -->
            </div>
            <!-- /.container-fluid -->
        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="js/plugins/metisMenu/metisMenu.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/sb-admin-2.js"></script>
	<script>
		$( "#current_temp" ).load( "data/dragontailcurrenttemp.txt" );
		$( "#forecastbbc" ).load( "data/dragontailforecastbbc.txt" );
		$( "#lastupdated" ).load( "data/dragontail-updatetime.txt" );
		$.get( "data/dragontail-last24hr-table.txt", ReadMinMax);

		function ReadMinMax( data ) {
			var datums = data.split(/\n/);
			var min24 = 200;
			var min12 = 200;
			var max12 = 0;
			var maxgust = 0;
			var num_rows = 24;
			var rain24 = 0;
			if (datums.length-1<num_rows)
				num_rows=datums.length
				for(i=0;i<num_rows-1;i++){
					min24 = Math.min(min24, Number(datums[i].split(",")[1]))
					//added rain totals for 24 hours
					rain24 = rain24 + Number(datums[i].split(",")[3])
					if (i<12)
						min12 = Math.min(min12, Number(datums[i].split(",")[1]))
						max12 = Math.max(max12, Number(datums[i].split(",")[1]))
						//added for wind gust
						maxgust = Math.max(maxgust, Number(datums[i].split(",")[2]))
				}

				$( "#night_temp" ).html( parseFloat(Math.round(min24 * 10) / 10).toFixed(1) );
				$( "#lowest_temp" ).html( parseFloat(Math.round(min12 * 10) / 10).toFixed(1) );
				$( "#highest_temp" ).html( parseFloat(Math.round(max12 * 10) / 10).toFixed(1) );
				//added for wind gust
				$( "#recent_wind" ).html(parseFloat(Math.round(maxgust * 10) / 10).toFixed(1) );
				//added recent rain
				$( "#recent_rain" ).html(parseFloat(Math.round(rain24 * 10) / 10).toFixed(1) );
		}
	</script>
</body>

</html>
